(this["webpackJsonppaper-xerox"]=this["webpackJsonppaper-xerox"]||[]).push([[0],{25:function(e,t,a){},30:function(e,t,a){e.exports=a(42)},35:function(e,t,a){},42:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(18),o=a.n(s),l=(a(35),a(12)),c=a(1),i=a(3),u=(a(25),a(9)),m=a(2),p=function(e){return console.log("getLoginUserSuccess"),{type:"LOGIN_USER_SUCCESS",data:e}},d=a(11),f=a.n(d),g=a(19),h="".concat("https://api-server-node.herokuapp.com","/login"),b="".concat("https://api-server-node.herokuapp.com","/register"),E="".concat("https://api-server-node.herokuapp.com","/forgotpassword"),w="".concat("https://api-server-node.herokuapp.com","/resetpassword"),v=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"application/json";return console.log("postCall",e,t,a),new Promise((function(n,r){fetch("".concat(e),{method:"POST",headers:{"Content-Type":a},body:JSON.stringify(t)}).then((function(e){console.log("response",e),e.status>=400?r({res:e}):e.json().then((function(e){n(e)}))})).catch((function(e){console.log("ERROR",e),r(e)}))}))};function O(){return(O=Object(g.a)(f.a.mark((function e(t,a,n,r,s){var o,l;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("registerUser",t),e.next=4,v(b,t);case 4:o=e.sent,r(!1),"SUCCESS"===(l=(o||{}).loginResponseStatus)?a(o.userData):"INVALID_REQUEST"===l&&n({loginId:!0}),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(0),r(!1),s("Something went wrong try again later."),console.log("API ERROR",e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function y(){return(y=Object(g.a)(f.a.mark((function e(t,a,n,r,s){var o,l;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("loginUser",t),e.next=4,v(h,t);case 4:o=e.sent,r(!1),l=(o||{}).loginResponseStatus,console.log(o),"SUCCESS"===l?a(o.userData):"UN_AUTHORIZED"===l?n({password:!0}):"INVALID_USER"===l?n({username:!0}):s("Something went wrong try again later."),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(0),r(!1),s("Something went wrong try again later."),console.log("API ERROR",e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}function N(){return(N=Object(g.a)(f.a.mark((function e(t,a,n,r,s){var o,l;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("registerUser",t),e.next=4,v(E,t);case 4:o=e.sent,r(!1),"SUCCESS"===(l=(o||{}).loginResponseStatus)?a(o.userData):"INVALID_USER"===l?n({username:!0}):s("Something went wrong try again later."),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(0),r(!1),s("Something went wrong try again later."),console.log("API ERROR",e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function S(){return(S=Object(g.a)(f.a.mark((function e(t,a,n,r,s){var o,l;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("registerUser",t),e.next=4,v(w,t);case 4:o=e.sent,r(!1),"SUCCESS"===(l=(o||{}).loginResponseStatus)?a(o.userData):"INVALID_URL"===l?n({wrongUrl:!0}):s("Something went wrong try again later."),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(0),r(!1),s("Something went wrong try again later."),console.log("API ERROR",e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}var j=function(e){var t=e.label,a=e.type,n=e.inputContainerClass,s=e.className,o=e.name,l=e.value,c=e.onChange,i=e.hasError,u=e.errMsg,m=e.ref,p=e.onFocus,d=e.hideStrengthBar,f=e.strengthPass;return r.a.createElement("div",{className:"".concat(n," ").concat(i?" has-error":"")},r.a.createElement("label",{htmlFor:o,className:"form-label"},t),r.a.createElement("input",{ref:m||null,type:a,className:s,name:o,value:l,onChange:c,onFocus:p||null}),i&&r.a.createElement("div",{className:"help-block"},u),!d&&"password"===a&&l&&r.a.createElement("div",{className:"strengthBarContainer mt-4"},r.a.createElement("div",{className:"strengthBar ".concat(f," br-20")})))},C=a(6),x=a.n(C),k=function(e){return r.a.createElement("div",{className:x()("Pageloader",e.className)},r.a.createElement("div",{className:"Pageloader__content"},r.a.createElement("div",{className:"Pageloader__spinner"}),r.a.createElement("h5",{className:"Pageloader__heading primary-text-color"},e.title),r.a.createElement("p",{className:"Pageloader__text"},e.message)))};k.defaultProps={message:"loading...",title:"",className:""};var P=k,R=Object(n.createContext)({}),_=R.Provider,I=R,A=function(e){var t=e.type,a=e.primaryButton,n=e.secondaryButton,s=e.bottom,o=e.className,l=x()(o);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"PwaModal "+(s?"wt-100p p-absolute b-0 PwaModal__bottom ":"")+l},r.a.createElement("div",{className:"PwaModal__content "+("renderProp"===t?"pt-0 pb-0 pl-0 pr-0":"")},"renderProp"!==t?r.a.createElement("h1",{className:"PwaModal__heading"},e.title):"","renderProp"===t?e.children:r.a.createElement("p",{className:"PwaModal__copy"},e.message)),r.a.createElement("div",{className:"PwaModal__actions"},a&&r.a.createElement("a",{className:"PwaModal__action PwaModal__action--primary",onClick:function(){e.onPrimaryAction()}},a),n&&r.a.createElement("a",{className:"PwaModal__action",onClick:function(){e.onSecondaryAction()}},n))))};A.defaultProps={type:"info",onPrimaryAction:function(){},onSecondaryAction:function(){},title:"",message:"",primaryButton:"",secondaryButton:"",bottom:!1};var B=A,U=function(e){var t=e.className,a=e.children;return r.a.createElement("div",{className:x()("p-fixed l-0 r-0 b-0 t-0 flex flex-center flex-middle z-10",t),style:{backgroundColor:"rgba(0, 0, 0,0.2)"}},a)};function M(){return(M=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function D(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},s=Object.keys(e);for(n=0;n<s.length;n++)a=s[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)a=s[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var L=r.a.createElement("line",{x1:18,y1:6,x2:6,y2:18}),F=r.a.createElement("line",{x1:6,y1:6,x2:18,y2:18}),T=function(e){var t=e.svgRef,a=e.title,n=D(e,["svgRef","title"]);return r.a.createElement("svg",M({viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-x",ref:t},n),a?r.a.createElement("title",null,a):null,L,F)},q=r.a.forwardRef((function(e,t){return r.a.createElement(T,M({svgRef:t},e))})),J=(a.p,function(e,t,a){return t&&e.includes(t)||a&&e.includes(a)?"weak":/^(?=.*[\d])(?=.*[a-z])(?=.*[A-Z])(?=.*[!@#$%^&])[\w!@#$%^&*]{8,}$/.test(e)?"strong":/^(?=.*[\d])(?=.*[a-z])(?=.*[!@#$%^&])[\w!@#$%^&*]{6,}$/.test(e)?"normal":"weak"}),G=function(){var e=!1;return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini|Mobile|mobile/i.test(navigator.userAgent)&&(e=!0),e},$=function(e){var t,a=e.children,n=e.className,s=e.width,o=e.as,l=x()("to-ellipsis o-hidden ws-nowrap",n),c={maxWidth:(t=s,"number"===typeof t?"".concat(t,"px"):"".concat(t))},i=o;return r.a.createElement(i,{className:l,style:c},a)};$.defaultProps={width:"100%",className:"",children:null,as:"p"},$.displayName="Truncate";var W=$,H=function(e){var t=e.className,a=e.ctaText,s=e.message,o=e.error,l=e.onCtaClick,i=e.closeBtn,u=e.onClose,m=Object(n.useState)(!1),p=Object(c.a)(m,2),d=p[0],f=p[1],g=x()("wt-90p p-16 br-4 flex flex-middle flex-between elevation-3 m-auto max-wt-500 z-10",{"bg-red":!0===o,"bg-light-black":!o},t),h=x()("fs-14 c-pointer fw-bold mr-24 mr-24",{"c-white":!0===o,"c-light-blue":!o});return r.a.createElement(r.a.Fragment,null,!d&&r.a.createElement("div",{className:g},r.a.createElement(W,{as:"span",width:a&&i?850:null,className:"fs-14 c-white"},s),r.a.createElement("div",{className:"flex flex-middle"},a&&r.a.createElement("span",{className:h,onClick:l},a),i&&r.a.createElement("div",{className:"br-100 flex flex-center flex-middle c-pointer",onClick:function(e){f(!d),u(e)},style:{height:"20px",width:"20px",backgroundColor:"rgba(0,0,0,0.1)"}},r.a.createElement(q,{stroke:"#fff",height:"12",width:"12"})))))};H.defaultProps={className:"",error:!1,ctaText:"",message:"",closeBtn:!0,onClose:function(){}},H.displayName="Toast";var z=H,V=function(e){var t=Object(n.useContext)(I),a=Object(c.a)(t,2)[1],s=Object(n.useState)({username:"",password:""}),o=Object(c.a)(s,2),l=o[0],i=o[1],d=Object(n.useState)(!1),f=Object(c.a)(d,2),g=f[0],h=f[1],b=Object(n.useState)(!1),E=Object(c.a)(b,2),w=E[0],v=E[1],O=Object(n.useState)({username:!1,password:!1}),S=Object(c.a)(O,2),C=S[0],x=S[1],k=Object(n.useState)(null),R=Object(c.a)(k,2),_=R[0],A=R[1],M=Object(n.useState)(null),D=Object(c.a)(M,2),L=D[0],F=D[1],T=Object(n.useState)(""),q=Object(c.a)(T,2),J=q[0],G=q[1],$=Object(n.useRef)(null),W=Object(n.useRef)(null);Object(n.useEffect)((function(){var t=null;"undefined"!==typeof Storage&&(t=JSON.parse(sessionStorage.getItem("userData"))),(t||{}).email&&e.history.push("/")}),[e.history]),Object(n.useEffect)((function(){_&&(a(p(_)),e.history.push("/"))}),[_]);var H=function(e){var t=e.target,a=t.name,n=t.value;i(Object(m.a)(Object(m.a)({},l),{},Object(u.a)({},a,n))),x(Object(m.a)(Object(m.a)({},C),{},Object(u.a)({},a,!1)))};return r.a.createElement(r.a.Fragment,null,g&&r.a.createElement(P,{className:"o-70"}),!g&&L&&r.a.createElement(U,null,r.a.createElement(B,{title:"Mail sent",onPrimaryAction:function(){F(null),v(!1)},primaryButton:"ok",message:"An email sent to ".concat(L.email," with reset password link")})),r.a.createElement("div",{className:"pr-16 pl-16 wt-90p hCenter p-relative max-wt-500"},r.a.createElement("div",{className:"flex flex-middle flex-between"},r.a.createElement("h2",null,"Login"),r.a.createElement("div",{onClick:function(){e.changeEntryPoint("register")},className:"btn btn-link decoration-none c-pointer"},"Register")),r.a.createElement("form",{name:"form",onSubmit:function(e){e.preventDefault(),v(!0);var t=l.username,a=l.password;(x({username:!t,password:!a}),t&&a)&&(h(!0),function(e,t,a,n,r){y.apply(this,arguments)}({userDocument:{loginId:t,password:a}},A,x,h,G))}},r.a.createElement(j,{label:"Email Id",type:"email",ref:W,inputContainerClass:"mb-16",className:"form-input",name:"username",value:l.username,onChange:H,hasError:C.username,errMsg:w&&!l.username?"Email id is required":"Not a Registered user Register now"}),r.a.createElement(j,{label:"Password",type:"password",ref:$,inputContainerClass:"mb-16",className:"form-input",name:"password",value:l.password,onChange:H,hasError:C.password,errMsg:w&&!l.password?"Password is required":"Password did not matched with Email Id",hideStrengthBar:!0}),r.a.createElement("div",{className:"flex flex-right",onClick:function(){h(!0),v(!0),x({username:!l.username}),function(e,t,a,n,r){N.apply(this,arguments)}({userDocument:{loginId:l.username}},F,x,h,G)}},r.a.createElement("div",{className:"btn btn-link decoration-none c-pointer pt-0 pb-0"},"forgot Password?")),r.a.createElement("div",{className:"mb-16"},r.a.createElement("button",{className:"btn btn-primary"},"Login"),r.a.createElement("div",{onClick:function(){e.changeEntryPoint(null)},className:"btn btn-link decoration-none"},"cancel")))),J&&r.a.createElement("div",{className:"slide-up"},r.a.createElement(z,{message:J,closeBtn:!0,onClose:function(){G("")},error:!0})))},K=function(e){var t=Object(n.useContext)(I),a=Object(c.a)(t,2)[1],s=Object(n.useState)({firstName:"",lastName:"",loginId:"",password:"",password2:""}),o=Object(c.a)(s,2),l=o[0],i=o[1],p=Object(n.useState)(!1),d=Object(c.a)(p,2),f=d[0],g=d[1],h=Object(n.useState)(""),b=Object(c.a)(h,2),E=b[0],w=b[1],v=Object(n.useState)(null),y=Object(c.a)(v,2),N=y[0],S=y[1],C=Object(n.useState)(""),x=Object(c.a)(C,2),k=x[0],R=x[1],_=Object(n.useState)({firstName:!1,lastName:!1,loginId:!1,password:!1,password2:!1}),A=Object(c.a)(_,2),B=A[0],U=A[1],M=Object(n.useState)(!1),D=Object(c.a)(M,2),L=D[0],F=D[1],T=Object(n.useRef)(null);Object(n.useEffect)((function(){var t=null;"undefined"!==typeof Storage&&(t=JSON.parse(sessionStorage.getItem("userData"))),(t||{}).email&&e.history.push("/")}),[e.history]),Object(n.useEffect)((function(){var t;N&&(a((t=N,console.log("getRegisterUserSuccess"),{type:"REGISTER_USER_SUCCESS",data:t})),e.history.push("/"))}),[N]);var q=function(e){var t=e.target,a=t.name,n=t.value;if("password"===a){var r=J(n,l.firstName,l.loginId);w(r)}U(Object(m.a)(Object(m.a)({},B),{},Object(u.a)({},a,!1))),i(Object(m.a)(Object(m.a)({},l),{},Object(u.a)({},a,n))),f&&g(!1),console.log(E)};return r.a.createElement(r.a.Fragment,null,L&&r.a.createElement(P,{className:"o-70"}),r.a.createElement("div",{className:"pr-16 pl-16 wt-90p hCenter p-relative max-wt-500"},r.a.createElement("div",{className:"flex flex-middle flex-between"},r.a.createElement("h2",null,"Register"),r.a.createElement("div",{className:"btn btn-link decoration-none c-pointer",onClick:function(){e.changeEntryPoint("login")}},"LogIn")),r.a.createElement("form",{name:"form",onSubmit:function(e){(e.preventDefault(),g(!0),U({firstName:!l.firstName,lastName:!1,loginId:!l.loginId,password:!l.password,password2:l.password!==l.password2}),l.firstName&&l.loginId&&l.password&&l.password===l.password2)&&(F(!0),function(e,t,a,n,r){O.apply(this,arguments)}({userDocument:l},S,U,F,R))}},r.a.createElement("div",{className:G()?"":"flex flex-around"},r.a.createElement(j,{label:"First Name",type:"text",inputContainerClass:"mb-16",className:"form-input",name:"firstName",value:l.firstName,onChange:q,hasError:B.firstName,errMsg:"First Name is required"}),r.a.createElement(j,{label:"Last Name",type:"text",inputContainerClass:"mb-16",className:"form-input",name:"lastName",value:l.lastName,onChange:q})),r.a.createElement(j,{label:"Email Id",type:"email",inputContainerClass:"mb-16",className:"form-input",name:"loginId",value:l.loginId,onChange:q,hasError:B.loginId,errMsg:f&&!l.loginId?"Email id is required":"Already have an id login now"}),r.a.createElement(j,{ref:T,label:"Password",type:"password",inputContainerClass:"mb-16",className:"form-input",name:"password",value:l.password,onChange:q,hasError:B.password,onFocus:function(){console.log("passwordFocused"),w(E||"weak")},errMsg:"Password is required",strengthPass:E}),r.a.createElement(j,{label:"Confirm Password",type:"password",inputContainerClass:"mb-16",className:"form-input",name:"password2",value:l.password2,onChange:q,hasError:B.password2,hideStrengthBar:!0,errMsg:l.password2?"Please enter the same password as first one.":"This field is required."}),r.a.createElement("div",{className:"mb-16"},r.a.createElement("button",{className:"btn btn-primary"},"Register"),r.a.createElement("div",{onClick:function(){e.changeEntryPoint(null)},className:"btn btn-link decoration-none"},"Cancel")))),k&&r.a.createElement("div",{className:"slide-up"},r.a.createElement(z,{message:k,closeBtn:!0,onClose:function(){R("")},error:!0})))},Z=function(e){var t=Object(n.useContext)(I),a=Object(c.a)(t,2),s=a[0],o=a[1],l=s.user,i=l.loginStatus,u=l.data,m=function(t){e.handleEntriesClick(t)};return r.a.createElement("div",{className:"header"},i?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"pl-16 pr-16"},u.email),r.a.createElement("div",{className:"pr-16 c-pointer c-light-blue c-pointer",onClick:function(){"undefined"!==typeof Storage&&sessionStorage.removeItem("userData"),o({type:"RESET_LOGIN_USER"})}},"Logout")):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"pl-16 pr-16 c-light-blue decoration-none c-pointer",onClick:function(){m("login")}},"Login"),r.a.createElement("div",{className:"pr-16 c-light-blue decoration-none c-pointer",onClick:function(){m("register")}},"Register")))},Q=a(14),Y=a(15),X=a(17),ee=a(16),te=function(e){Object(X.a)(a,e);var t=Object(ee.a)(a);function a(){return Object(Q.a)(this,a),t.apply(this,arguments)}return Object(Y.a)(a,[{key:"render",value:function(){var e=this.props,t=e.heading,a=e.onClose;return r.a.createElement("div",{className:"screen"},r.a.createElement("div",{className:"modal"},t&&r.a.createElement("h2",null,t),r.a.createElement("span",{className:"close c-pointer",onClick:a},"\xd7"),r.a.createElement("div",{className:"content"},this.props.children)))}}]),a}(n.Component),ae=a(28),ne=a(44),re=function(e){var t=e.children,a=Object(ae.a)(e,["children"]);return r.a.createElement(ne.a,Object.assign({},a,{classNames:"slide"}),t)};re.defaultProps={children:null},re.displayName="Animate(Slide)";var se=re,oe=a(20),le=a.n(oe),ce=function(e){Object(X.a)(a,e);var t=Object(ee.a)(a);function a(){var e;Object(Q.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).closeButtonClicked=function(){e.props.onClose("closeButton")},e}return Object(Y.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"Sheet__header"},this.props.showCloseButton&&r.a.createElement("span",{role:"button",className:"Sheet__close flex flex-middle flex-center",onClick:this.closeButtonClicked,style:{height:"20px",width:"20px"}},"\xd7"),r.a.createElement("p",{className:"Sheet__title lh-title ta-center fw-600",width:"80%"},this.props.title),r.a.createElement("a",{onClick:this.props.secondaryActionClick,className:"Sheet__secondaryAction"},this.props.secondaryAction))}}]),a}(n.PureComponent);ce.defaultProps={title:"",subtitle:"",onClose:function(e){},showCloseButton:!0,secondaryAction:"",secondaryActionClick:function(){}};var ie=ce,ue=function(e){Object(X.a)(a,e);var t=Object(ee.a)(a);function a(){return Object(Q.a)(this,a),t.apply(this,arguments)}return Object(Y.a)(a,[{key:"render",value:function(){var e="Sticky Sticky--".concat(this.props.position);return r.a.createElement("div",null,"top"===this.props.position&&r.a.createElement("div",{className:"Sticky__fake"},this.props.children),r.a.createElement("div",{className:x()(e,this.props.className)},this.props.children))}}]),a}(n.PureComponent);ue.defaultProps={position:"top",children:null};var me=ue,pe=function(e){Object(n.useEffect)((function(){return function(){le()(document.body).remove("Sheet--open")}}),[]),Object(n.useEffect)((function(){e.isOpen?le()(document.body).add("Sheet--open"):le()(document.body).remove("Sheet--open")}),[e.isOpen]);var t=r.a.createElement("div",{className:"Sheet"},r.a.createElement(me,{position:"top"},r.a.createElement(ie,{title:e.title,onClose:e.onClose,showCloseButton:e.showCloseButton,secondaryAction:e.secondaryAction,secondaryActionClick:e.secondaryActionClick}),e.subHeaderComponent),r.a.createElement("div",{className:"Sheet__content"},e.children));return e.enableAnimation?r.a.createElement(se,{in:e.isOpen,timeout:{enter:300,exit:300},mountOnEnter:!0,unmountOnExit:!0,appear:!0},t):e.isOpen?t:null};pe.defaultProps={children:null,isOpen:!1,title:"",subtitle:"",onClose:function(e){},enableAnimation:!0,showCloseButton:!0,secondaryAction:"",secondaryActionClick:function(){},subHeaderComponent:null};var de=pe,fe=function(){var e=Object(n.useContext)(I),t=Object(c.a)(e,1)[0],a=Object(n.useState)(null),s=Object(c.a)(a,2),o=s[0],l=s[1],i=t.user,u=i.loginStatus,m=i.data,p=function(e){l(e)},d=function(){l(null)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(Z,{handleEntriesClick:p}),r.a.createElement("div",{className:"flex flex-center"},r.a.createElement("h1",null,"Hello"," ",u?m.firstName+" "+m.lastName:"anonymous")),o&&(G()?r.a.createElement(de,{onClose:d,isOpen:!0},"login"===o?r.a.createElement(V,{changeEntryPoint:p}):r.a.createElement(K,{changeEntryPoint:p})):r.a.createElement(te,{onClose:d},"login"===o?r.a.createElement(V,{changeEntryPoint:p}):r.a.createElement(K,{changeEntryPoint:p}))))},ge=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"Contact Administrator"))},he=function(e){var t=Object(n.useContext)(I),a=(Object(c.a)(t,2)[1],Object(n.useState)({password:"",password2:""})),s=Object(c.a)(a,2),o=s[0],i=s[1],p=Object(n.useState)(!1),d=Object(c.a)(p,2),f=d[0],g=d[1],h=Object(n.useState)(""),b=Object(c.a)(h,2),E=b[0],w=b[1],v=Object(n.useState)(null),O=Object(c.a)(v,2),y=O[0],N=O[1],C=Object(n.useState)({password:!1,password2:!1}),x=Object(c.a)(C,2),k=x[0],R=x[1],_=Object(n.useState)(!1),A=Object(c.a)(_,2),M=A[0],D=A[1],L=Object(n.useState)(""),F=Object(c.a)(L,2),T=F[0],q=F[1],G=Object(n.useRef)(null);Object(n.useEffect)((function(){var t=null;"undefined"!==typeof Storage&&(t=JSON.parse(sessionStorage.getItem("userData"))),(t||{}).email&&e.history.push("/")}),[e.history]);var $=function(e){var t=e.target,a=t.name,n=t.value;if("password"===a){var r=J(n);w(r)}R(Object(m.a)(Object(m.a)({},k),{},Object(u.a)({},a,!1))),i(Object(m.a)(Object(m.a)({},o),{},Object(u.a)({},a,n))),f&&g(!1),console.log(E)};return r.a.createElement(r.a.Fragment,null,M&&r.a.createElement(P,{className:"o-70"}),k.wrongUrl&&r.a.createElement(U,null,r.a.createElement(B,{title:"Wrong url",type:"Error",onPrimaryAction:function(){e.history.push("/")},primaryButton:"OK",message:"You hit the Wrong url. Go to Home Page"})),y&&r.a.createElement(U,null,r.a.createElement(B,{title:"Password changed",type:"success",onPrimaryAction:function(){e.history.push("/login")},primaryButton:"OK",message:"Password changed Successfully Login now"})),r.a.createElement("div",{className:"pr-16 pl-16 wt-90p hCenter p-relative max-wt-500"},r.a.createElement("div",{className:"flex flex-middle flex-between"},r.a.createElement("h2",null,"Reset Password"),r.a.createElement(l.b,{to:"/login",className:"btn btn-link decoration-none"}," ","LogIn")),r.a.createElement("form",{name:"form",onSubmit:function(t){var a,n;(t.preventDefault(),g(!0),R({password:!o.password,password2:o.password!==o.password2}),o.password&&o.password===o.password2)&&(D(!0),function(e,t,a,n,r){S.apply(this,arguments)}({userDocument:{password:o.password,token:(a=["match","params","token"],n=e,a.reduce((function(e,t){return e&&e[t]?e[t]:null}),n))}},N,R,D,q))}},r.a.createElement(j,{ref:G,label:"New Password",type:"password",inputContainerClass:"mb-16",className:"form-input",name:"password",value:o.password,onChange:$,hasError:k.password,onFocus:function(){console.log("passwordFocused"),w(E||"weak")},errMsg:"Password is required",strengthPass:E}),r.a.createElement(j,{ref:G,label:"Confirm New Password",type:"password",inputContainerClass:"mb-16",className:"form-input",name:"password2",value:o.password2,onChange:$,hasError:k.password2,hideStrengthBar:!0,errMsg:o.password2?"Please enter the same password as first one.":"This field is required."}),r.a.createElement("div",{className:"mb-16"},r.a.createElement("button",{className:"btn btn-primary"},"Reset")))),T&&r.a.createElement(z,{message:T,closeBtn:!0,onClose:function(){q("")},error:!0}))},be=function(){var e=Object(n.useContext)(I),t=Object(c.a)(e,2)[1],a=Object(n.useState)(!1),s=Object(c.a)(a,2),o=s[0],l=s[1];return Object(n.useEffect)((function(){var e=null;"undefined"!==typeof Storage&&(e=JSON.parse(sessionStorage.getItem("userData"))),(e||{}).email&&t(p(e)),l("2665"===window.prompt("whats your key","default"))}),[]),r.a.createElement(i.c,null,r.a.createElement(i.a,{exact:!0,path:"/",component:function(e){return o?r.a.createElement(fe,e):r.a.createElement(ge,null)}}),r.a.createElement(i.a,{exact:!0,path:"/login",component:V}),r.a.createElement(i.a,{exact:!0,path:"/register",component:K}),r.a.createElement(i.a,{exact:!0,path:"/resetPass/:token",component:he}))},Ee=function(e,t){var a;return"LOGIN_USER_SUCCESS"===t.type||"REGISTER_USER_SUCCESS"===t.type?(a=Object(m.a)(Object(m.a)({},e),{},{loginStatus:!0,data:t.data,submission:"success"}),"undefined"!==typeof Storage&&sessionStorage.setItem("userData",JSON.stringify(t.data))):"RESET_LOGIN_USER"===t.type&&(a=Object(m.a)(Object(m.a)({},e),{},{loginStatus:!1})),a||e},we=function(e,t){return{user:Ee(e.user,t)}},ve={user:{}},Oe=function(e){return r.a.createElement(_,{value:Object(n.useReducer)(we,ve)},e.children)};var ye=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(l.a,{basename:"/"},r.a.createElement(Oe,null,r.a.createElement(be,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(ye,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[30,1,2]]]);
//# sourceMappingURL=main.78c30335.chunk.js.map